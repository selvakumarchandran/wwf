var SYS_RANDOM_NEXT_ID=0;var contextPath="/icore/";var SUCCESS=1;var FAILURE=0;var _global_loading_img=contextPath+"/images/load/loadingIcon.gif";var loadDateImage="<img src=\""+_global_loading_img+"\" border='0'/>";var txt_querying="&nbsp;&nbsp;"+loadDateImage+"&nbsp;数据查询中...";Array.prototype.removeElement=function(A){if(isNaN(A)||A>this.length){return false}for(var B=0,C=0;B<this.length;B++){if(this[B]!=this[A]){this[C++]=this[B]}}this.length-=1};function showWindow(B,D,A,C){B+=(B.indexOf("?")==-1)?"?":"&";B+="KeepThis=true&TB_iframe=true&height="+A+"&width="+C;tb_show(D,B)}function closeWindow(){tb_remove()}$(document).ready(function(){initUnblockUi();initDisableKeyDown();initDisableContextMenu()});var DATE_FORMATE_YMD="yyyy-MM-dd";var DATE_FORMATE_YMD_HM=DATE_FORMATE_YMD+" hh:mm";var DATE_FORMATE_YMD_HMS=DATE_FORMATE_YMD_HM+":ss";var json__m={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r","\"":"\\\"","\\":"\\\\"};function initUnblockUi(){if($.unblockUI){$().ajaxStop($.unblockUI)}else{}}function getHeight(){}function initDisableKeyDown(){var A=typeof (isDisabledKeyDown);if(A=="object"||A=="boolean"){if(isDisabledKeyDown&&isDisabledKeyDown==true){document.onkeydown=common_onKeyDown}}else{}}function common_onKeyDown(B){var A=false;if($.browser.msie){B=window.event;A=true}else{B=B;B.srcElement=B.target}if((B.altKey)||((B.keyCode==8)&&(B.srcElement.type!="text"&&B.srcElement.type!="textarea"&&B.srcElement.type!="password"))||((B.ctrlKey)&&((B.keyCode==78)||(B.keyCode==82)))||(B.keyCode==116)){if(B.srcElement){B.returnValue=false;if(A){B.keyCode=0;window.event.returnvalue=false}}if(B.target){B.preventDefault();return false}else{if(B.returnValue==false){return false}}}}function initDisableContextMenu(){var A=typeof (isDisabledContextMenu);if(A=="object"||A=="boolean"){if(isDisabledContextMenu&&isDisabledContextMenu==true){document.oncontextmenu=common_disable_contextMenu}}else{}}function common_disable_contextMenu(){return false}function wait(C,A){if(ky.util.isEmpty(A)){A="正在提交,请稍候..."}var B;if(typeof C==="string"){B=getS(C)}else{B=C}B.block({message:A,css:{width:"70%"}})}function removeAttr(D){if(D){for(var B=D.length-1;B>=0;B--){var C=D.pop();var A=getS(C);if(A){A.removeAttr("disabled")}}}}function getSelectVal(A){var B=getS(A);if(B){return B.val()}return""}function getHtml(A){var B=getS(A);if(B){return B.html()}return""}function addDisabledAttr(C){if(C){if(isArray(C)){for(var A=C.length-1;A>=0;A--){var B=C.pop();addDisabledAttrToElement(B)}}else{if(isString(C)){addDisabledAttrToElement(C)}}}}function addDisabledAttrToElement(B){var A=getS(B);if(A){A.attr("disabled","disabled")}}function disabledElement(A,C){var B=getS(A);if(B){var D="disabled";if((typeof C)=="boolean"){if(C==true){B.attr(D,C)}else{B.removeAttr(D)}}}}function disableInputByName(A,B){changeInputElementAttrByName("disabled",A,B)}function changeInputElementAttrByName(B,A,C){if(ky.util.isEmpty(B)){return }if(ky.util.isEmpty(A)){return }if(!C){C=false}$("input[name="+A+"]").each(function(){if(isString(C)){$(this).attr(B,C)}else{if(C==true){$(this).attr(B,C)}else{$(this).removeAttr(B)}}})}function getCheckedValues(B){var A="input[name="+B+"]:checked";var C=new Array();var D=$(A);if(D){D.each(function(){C.push($(this).val())})}return C}function getTextValue(A){var B=getS(A);if(B){var C=B.attr("value");return ky.util.sNull(C)}return""}function getRadioValueByDocument(B){var C=document.getElementsByName(B);var A="";for(var D=0;D<C.length;D++){if(C[D].checked){A+=(C[D].value)}}return A}function getRadioValue(A){var B=getRadioValueByDocument(A);if(!B){B=$("input[name="+A+"][checked]").val()}return B}function isChecked(A){return isInputElementAttrBooleanValue("checked",A)}function isInputElementAttrBooleanValue(B,A){return getS(A).is(":"+B)}function getS(A){return $("#"+A)}function isCheckedElement(A){if(A){return A.attr("checked")}else{return false}}function getCheckedValue(B){if(!B){return""}var C=B.length;if(C==undefined){if(B.checked){return B.value}else{return""}}for(var A=0;A<C;A++){if(B[A].checked){return B[A].value}}return""}function setCheckedValue(B,D){if(!B){return }var C=B.length;if(C==undefined){B.checked=(B.value==D.toString());return }for(var A=0;A<C;A++){B[A].checked=false;if(B[A].value==D.toString()){B[A].checked=true}}}function getMulitySelectValueArrary(B){var F=document.getElementById(B);if(F==null){return null}var A=new Array();var D="";var E=F.length;if(E<1){return null}var C=0;for(C=0;C<E;C++){A.push(F.options[C].value)}return A}function changeRadio(C,B){if(C==null){return }for(var A=0;A<C.length;A++){if(C[A].value==B){C[A].checked=true;break}else{C[A].checked=false}}}function changeCheckboxValue(H,J){try{var E=$("input[type=checkbox][name="+H+"]");if(E){var A=J.length;for(var F=0;F<E.length;F++){var G=E[F];var B=G.value;for(var D=0;D<A;D++){var I=J[D];if(B==I){G.checked=true;break}else{G.checked=false}}}}}catch(C){showErr(C)}}function changeRadioValue(A,C){try{var D=$("input[name="+A+"][value="+C+"]");if(D){D.attr("checked",true)}}catch(B){showErr(B)}}function changeTxtValue(C,A){var B=$("#"+C);if(B){B.val(A)}}function changeSelectValue(B,A){var C;if(typeof B==="string"){C=getS(B)}else{C=B}if(C){C.attr("value",A)}else{log(B+"对应的obj不存在")}}function changeInputElementValue(H,D,G){var E=$("#"+H);var F=E.get(0);if(F){switch(F.type){case"checkbox":case"radio":if(F.value==D){F.checked=true}else{F.checked=false}break;case"select":changeSelectValue(E,D);break;default:E.val(D);break}}else{E=$("input[name="+H+"]");F=E.get(0);if(F){var C=F.type;switch(C){case"radio":for(var B=0;B<E.length;B++){var A=E[B];if(A.value==D){A.checked=true;break}else{A.checked=false}}break;case"checkbox":for(var B=0;B<E.length;B++){var A=E[B];if(A.value==D){A.checked=true;break}else{}}break;default:log("-----------这里需要做一个 对 default 的工作 哦")}}else{}}if(typeof (G)=="function"){G(H,D)}}function changeHtml(E,A,D){var B=$("#"+E);if(B){var C=(A||"0"==A||0==A)?(""+A):"";B.html(C)}else{}if(typeof (D)=="function"){D(E,A)}}function checknumber(D){var B;if(D==""){return false}var C=/^[\-\+]?([0-9]\d*|0|[1-9]\d{0,2}(,\d{3})*)(\.\d+)?$/;var A=C.test(D);return A}var htmlCheckCode;function createCode(C,E,B){htmlCheckCode="";if(!C){C=4}if(C<=0){C=4}var A=getS(E);A.val("");var D={"font-family":"Arial","font-style":"italic","color":"Red","border":"0","letter-spacing":"2px","font-weight":"bolder","height":"25px","cursor":"pointer"};B=jQuery.extend({},D,B);A.css(B);A.bind("click",function(){htmlCheckCode=__createHtmlCheckCode(C);$(this).val(htmlCheckCode)});A.attr("title","验证码 看不清楚？请点击刷新验证码！");htmlCheckCode=__createHtmlCheckCode(C);A.val(htmlCheckCode)}function __createHtmlCheckCode(D){var C="";var A=new Array(2,3,4,5,6,7,8,9,0);for(var B=0;B<D;B++){var E=Math.floor(Math.random()*9);C+=A[E]}if(C.length!=D){return __createHtmlCheckCode(D)}return C}function showErr(C,B){if(!C){return }var A="There was an error on this page.\n";if(B){A+=B+"\n"}if(!isNaN(C.description)){A+="\nError description : "+C.description}if(!isNaN(C.number)){A+="\nError number : "+C.number}A+="\nerr.name : "+C.name;A+="\nerr.message : "+C.message;A+="\n\nClick OK to continue.\n";alert(A)}function isChecked(B){var A=$("#"+B).attr("checked");if(A==true){return true}else{return false}}function hiddenLayer(B){var A=$("#"+B);if(A){A.hide()}}function makeHidden(C,B){var A="";A+="<input type=\"hidden\" id=\""+C+"\" name=\""+C+"\" value=\""+B+"\"/>";return A}function createCheckBox(F,D,G){var C=(F)?F:"checkbox";var B=(D)?D:"";var E="";if(G){E=G}else{E=C+"_"+B}var A="";A+="<input type='checkbox' ";A+=" id='"+E+"' ";A+=" name='"+C+"' ";A+=" value='"+B+"' />";return A}function createCheckBoxWithLabel(E,H,G,B){var D=(G)?G:"";var A=(E)?E:"checkbox";var C=(H)?H:"";var I="";var I="";if(B){I=B}else{I=A+"_"+C}var F="";F+="<label for=\""+I+"\">";F+=createCheckBox(A,C,I);F+=D;F+="</label>";return F}function doPost(C,G,H,D){var B="json";if(jQuery.isFunction(G)){H=G;G={}}var A=true;if(!ky.util.isEmpty(D)){if(D===false){A=false}}if(G&&typeof G!="string"){var F={domid:ky.util.getNextId()};G=jQuery.extend({},F,G)}try{$.ajax({url:C,type:"POST",dataType:B,data:G,success:H,async:A,error:function(K,J,M){var I="通信出错了,请稍候再试.\n\n\n";I+="message:\t"+J+"\n";if(M){I+="e:\t"+M+"\n"}var L=G;if(G&&typeof G!="string"){L=jQuery.param(G)}I+="url:\t"+C+"\n";I+="data:\t"+L+"\n";if(isdebug()){showErr(M,I)}log(I)}})}catch(E){log(E)}}function getTimeRndString(){var A=new Date();var B=A.getMilliseconds()+A.getSeconds()*60+A.getMinutes()*3600+A.getHours()*60*3600+A.getDay()*3600*24+A.getMonth()*3600*24*31+A.getYear()*3600*24*31*12*Math.random();return B}function showDateTime(A){if(A==""){return }Calendar.setup({inputField:A,ifFormat:"%Y-%m-%d %H:%M",showsTime:true,singleClick:true,step:1})}function showDate(A){if(A==""){return }Calendar.setup({inputField:A,ifFormat:"%Y-%m-%d",showsTime:false,singleClick:true,step:1})}function isString(A){if(A==null){return false}return(typeof A=="string")&&A.constructor==String}function isNumber(A){if(A==null){return false}return(typeof A=="number")&&A.constructor==Number}function _isDate(A){if(A==null){return false}return(typeof A=="object")&&A.constructor==Date}function isArray(A){if(A==null){return false}return(typeof A=="object")&&A.constructor==Array}function jump(C,B){try{if(C){$("#jumpto").val(C)}if(!ky.util.isEmpty(B)){changeTxtValue("_jumpParam",B)}$("#form_jump").submit()}catch(A){showErr(A)}}function jumpToHref(A){try{window.location.href=A}catch(B){showErr(B)}}ky={table:{oneTd:function(E,B,A,D){var C="<td ";if(!ky.util.isEmpty(B)){C+=" id='"+B+"'"}if(!ky.util.isEmpty(A)){C+=" class='"+A+"'"}if(!ky.util.isEmpty(D)){C+=" style='"+D+"'"}C+=">"+ky.util.sNull(E)+"</td>";return C},createTrRow:function(G,E,I,D,A,B,C){var H="<tr ";if(!ky.util.isEmpty(E)){H+=" id='"+E+"'"}if(!ky.util.isEmpty(I)){H+=" class='"+I+"'"}if(!ky.util.isEmpty(D)){H+=" style='"+D+"'"}H+=">";var F="";F=!isNaN(B);if(A&&$.isArray(A)&&A.length>0){$.each(A,function(N,P){var M=P;var L=G[M];var J="",O="";if(F){try{J=B[M+N+"_id"]}catch(K){showErr(K)}if(!C){C=B[M+N+"_class"]}O=B[M+N+"_style"]}H+=ky.table.oneTd(L,J,C,O)})}else{$.each(G,function(L,O){var M=O;var K="",J="",N="";if(hasTdAtt){K=B(key+L+"_id");J=B(key+L+"_class");N=B(key+L+"_style")}H+=ky.table.oneTd(M,K,J,N)})}H+="</tr>";return H},getTreeTablePartnerClass:function(A){return"child-of-"+A}},pages:{displayPageMessage:function(A,B,C){if(!C){C=10}if(B){var D=$("#"+B);if(D){var E=((A-1)*C);D.text("Showing search results "+(E+1)+"-"+(E+C))}}return true},paginationQuery:function(options){var empty={};var defaults={url:"",pageIndex:0,dispPaginaExpression:"div[alt=\"ts\"]",paginationCallbackByPageNo:"",divTotalPageResultId:"",createResultRowCallbackName:null,queryResultDispId:"",queryParameterTxt:"",perPage:10,processResultCallbackName:null,paginationCompleteCallbackName:null,disableClickAction:false};var settings=jQuery.extend(empty,defaults,options);if(isEmpty(settings.pageIndex)){settings.pageIndex=0}if(isEmpty(settings.url)){alert("url 参数,通信请求的url,不允许为空");return false}if(isEmpty(settings.paginationCallbackByPageNo)){alert("paginationCallbackByPageNo参数进行 分页action的回调,不允许为空");return false}if(isEmpty(settings.queryResultDispId)){alert("queryResultDispId 参数进行 结果集处理后的数据的显示,不允许为空");return false}if(isEmpty(settings.queryParameterTxt)){alert("queryParameterTxt 参数,用来描述action等通信请求,不允许为空");return false}var items_per_page=settings.perPage;var gtParam={"recordType":"object","pageInfo":{"pageSize":items_per_page,"pageNum":settings.pageIndex,"totalRowNum":-1,"totalPageNum":0,"startRowNum":1,"endRowNum":-1},"sortInfo":[],"filterInfo":[],"remotePaging":true,"parameters":{},"action":"load"};var param={p_toPageNo:settings.pageIndex,items_per_page:items_per_page,domid:ky.util.getNextId(),_gt_json:json(gtParam),_c_pagi_q:1};var vhttValue=jQuery.param(param)+"&"+settings.queryParameterTxt;var tbody=getS(settings.queryResultDispId);tbody.html("<tr><td colspan='10'>"+txt_querying+"</td></tr>");doPost(settings.url,vhttValue,function(data){var result=[];var pageNum=1;var tmpPerpage=items_per_page;var totalResult=0;if(data){result=data.listData;pageNum=data.pageNum;tmpPerpage=(data.items_per_page)?data.items_per_page:items_per_page;totalResult=data.totalResult}else{data=[]}pageNum=(pageNum)?((pageNum<=0)?1:pageNum):1;var toOpRow=true;if(!isEmpty(settings.processResultCallbackName)){toOpRow=eval(settings.processResultCallbackName)(data)}if(toOpRow){if(isEmpty(settings.createResultRowCallbackName)){alert("createResultRowCallbackName参数进行 行数据的构建,不允许为空");return false}}var txt_tr_no_result="<tr><td colspan='10'> &nbsp;暂无对应查询结果! </td></tr>";if(result&&toOpRow){var length=result.length;var txt="";if(length>0){tbody.html(txt);for(var index=0;index<length;index++){var one=result[index];txt=eval(settings.createResultRowCallbackName)(index,one);tbody.append(txt)}var cha=items_per_page-length;if(cha>0){var index=length;for(var i=0;i<cha;i++){txt=eval(settings.createResultRowCallbackName)(index,null);index++;tbody.append(txt)}}}else{tbody.html(txt_tr_no_result)}}else{tbody.html(txt_tr_no_result)}var paginationPageCallback="ky.pages.gotoThePage";$(settings.dispPaginaExpression).pagination(totalResult,pageNum,{perPage:tmpPerpage,callback:function(page_id){eval(paginationPageCallback)(page_id,settings.paginationCallbackByPageNo,settings.divTotalPageResultId,tmpPerpage)},disableClickAction:settings.disableClickAction});if(settings.paginationCompleteCallbackName){eval(settings.paginationCompleteCallbackName)(data)}})},gotoThePage:function(page_id,paginationCallbackByPageNo,divTotalPageResultId,perPageSize){eval(paginationCallbackByPageNo)(page_id);ky.pages.displayPageMessage(page_id,divTotalPageResultId,perPageSize);return true}},format:{dateFormat:function(V,O){if(V){}else{return""}if(V==""){return""}var M,T,E;var U=/^y{4}-M{2}-d{2}\sh{2}:m{2}:s{2}$/;var W=/^y{4}-M{1,2}-d{1,2}\sh{1,2}:m{1,2}:s{1,2}$/;var X=/^y{4}-M{2}-d{2}\sh{2}:m{2}$/;var S=/^y{4}\/M{2}\/d{2}\sh{2}:m{2}:s{2}$/;var G=/^y{4}\/M{1,2}\/d{1,2}\sh{1,2}:m{1,2}:s{1,2}$/;var R=/^y{4}年M{2}月d{2}日\sh{2}时m{2}分s{2}秒$/;var N=/^y{4}年M{1,2}月d{1,2}日\sh{1,2}时m{1,2}分s{1,2}秒$/;var C=/^y{4}-M{2}-d{2}$/;var K=/^y{4}-M{1,2}-d{1,2}$/;var B=/^y{4}\/M{2}\/d{2}$/;var P=/^y{4}\/M{1,2}\/d{1,2}$/;var A=/^y{4}年M{2}月d{2}日$/;var D=/^y{4}年M{1,2}月d{1,2}日$/;var J=/^h{2}:m{2}:s{2}$/;var F=/^h{1,2}:m{1,2}:s{1,2}$/;var I=/^h{2}时m{2}分s{2}秒$/;var L=/^h{1,2}时m{1,2}分s{1,2}秒$/;var H=/^h{2}$/;var Q=/^h{1,2}$/;if(!O){O=DATE_FORMATE_YMD_HMS}T=new Date(V);if(isNaN(T)){this.msgBox(V+",解析错误,\n时间参数非法\n正确的时间示例:\nThu Nov 9 20:30:37 UTC+0800 2006\n或\n2006/10/17");return }if(U.test(O)){E=this.splitDate(T,true);M=E.yyyy+"-"+E.MM+"-"+E.dd+" "+E.hh+":"+E.mm+":"+E.ss}else{if(W.test(O)){E=this.splitDate(T);M=E.yyyy+"-"+E.MM+"-"+E.dd+" "+E.hh+":"+E.mm+":"+E.ss}else{if(S.test(O)){E=this.splitDate(T,true);M=E.yyyy+"/"+E.MM+"/"+E.dd+" "+E.hh+":"+E.mm+":"+E.ss}else{if(G.test(O)){E=this.splitDate(T);M=E.yyyy+"/"+E.MM+"/"+E.dd+" "+E.hh+":"+E.mm+":"+E.ss}else{if(R.test(O)){E=this.splitDate(T,true);M=E.yyyy+"年"+E.MM+"月"+E.dd+"日 "+E.hh+"时"+E.mm+"分"+E.ss+"秒"}else{if(N.test(O)){E=this.splitDate(T);M=E.yyyy+"年"+E.MM+"月"+E.dd+"日 "+E.hh+"时"+E.mm+"分"+E.ss+"秒"}else{if(C.test(O)){E=this.splitDate(T,true);M=E.yyyy+"-"+E.MM+"-"+E.dd}else{if(K.test(O)){E=this.splitDate(T);M=E.yyyy+"-"+E.MM+"-"+E.dd}else{if(B.test(O)){E=this.splitDate(T,true);M=E.yyyy+"/"+E.MM+"/"+E.dd}else{if(P.test(O)){E=this.splitDate(T);M=E.yyyy+"/"+E.MM+"/"+E.dd}else{if(A.test(O)){E=this.splitDate(T,true);M=E.yyyy+"年"+E.MM+"月"+E.dd+"日"}else{if(D.test(O)){E=this.splitDate(T);M=E.yyyy+"年"+E.MM+"月"+E.dd+"日"}else{if(J.test(O)){E=this.splitDate(T,true);M=E.hh+":"+E.mm+":"+E.ss}else{if(F.test(O)){E=this.splitDate(T);M=E.hh+":"+E.mm+":"+E.ss}else{if(I.test(O)){E=this.splitDate(T,true);M=E.hh+"时"+E.mm+"分"+E.ss+"秒"}else{if(L.test(O)){E=this.splitDate(T);M=E.hh+"时"+E.mm+"分"+E.ss+"秒"}else{if(H.test(O)){E=this.splitDate(T,true);M=E.hh+"时"}else{if(Q.test(O)){E=this.splitDate(T);M=E.hh+"时"}else{if(X.test(O)){E=this.splitDate(T,true);M=E.yyyy+"-"+E.MM+"-"+E.dd+" "+E.hh+":"+E.mm}else{this.msgBox("没有匹配的时间格式!\n"+V);return }}}}}}}}}}}}}}}}}}}return M},splitDate:function(F,A){var D,G,H,B,C,I;if(A){D=F.getFullYear();G=(F.getMonth()+1)<10?"0"+(F.getMonth()+1):F.getMonth()+1;H=F.getDate()<10?"0"+F.getDate():F.getDate();B=F.getHours()<10?"0"+F.getHours():F.getHours();C=F.getMinutes()<10?"0"+F.getMinutes():F.getMinutes();I=F.getSeconds()<10?"0"+F.getSeconds():F.getSeconds()}else{D=F.getFullYear();G=F.getMonth()+1;H=F.getDate();B=F.getHours();C=F.getMinutes();I=F.getSeconds()}var E={"yyyy":D,"MM":G,"dd":H,"hh":B,"mm":C,"ss":I};return E},msgBox:function(A){window.alert(A)},toNumber:function(B,C){var B,C;var I,H;B=""+B+"";var A=B.length;var F=B.indexOf(".",0);if(F==-1){I=B+".";for(var E=0;E<C;E++){I=I+"0"}return I}else{if((A-F-1)>=C){var G=F+C+1;H=1;for(var D=0;D<C;D++){H=H*10}I=Math.round(parseFloat(B)*H)/H;return I}else{I=B;for(E=0;E<(C-A+F+1);E++){I=I+"0"}return I}}},toMoney:function(D,F){var G=G>0&&G<=20?G:2;D=parseFloat((D+"").replace(/[^\d\.-]/g,"")).toFixed(G)+"";var A=D.split(".")[0].split("").reverse(),E=D.split(".")[1];var C="";for(var B=0;B<A.length;B++){C+=A[B]+((B+1)%3==0&&(B+1)!=A.length?",":"")}return C.split("").reverse().join("")+"."+E},rmoney:function(A){if(A){if(isString(A)){return parseFloat(A.replace(/[^\d\.-]/g,""))}else{return parseFloat(A)}}else{return""}},toDateTxt:function(A){if(A==null){return""}if(isString(A)){return ky.format.dateFormat(A,DATE_FORMATE_YMD)}else{if(A.time){return ky.format.dateFormat(A.time,DATE_FORMATE_YMD)}else{return A}}},toDateByFormat:function(B,A){if(!B){return""}if(A){if(""==A){A=DATE_FORMATE_YMD_HMS}}else{A=DATE_FORMATE_YMD_HMS}if(isString(B)){return B}else{if(B.time){return ky.format.dateFormat(B.time,A)}else{if(_isDate(B)){var C="";if(B){C=ky.format.dateFormat(B,A)}else{C=""}return C}else{return B}}}},toFullDate:function(A){if(A==null){return""}return this.toDateByFormat(A,DATE_FORMATE_YMD_HMS)},toNoSecondDate:function(A){if(A==null){return""}if(isString(A)){if(A.length>16){return A.substring(0,16)}else{return A}}return this.toDateByFormat(A,DATE_FORMATE_YMD_HM)}},ext:{copyToClipBoard:function(G){if(!G){return false}if(window.clipboardData){window.clipboardData.clearData();window.clipboardData.setData("Text",G);return true}else{if(navigator.userAgent.indexOf("Opera")!=-1){window.location=G;return true}else{if(window.netscape){try{netscape.security.PrivilegeManager.enablePrivilege("UniversalXPConnect")}catch(J){alert("你的firefox安全限制限制你进行剪贴板操作，请打开'about:config'将signed.applets.codebase_principal_support'设置为true'之后重试");return false}var D=Components.classes["@mozilla.org/widget/clipboard;1"].createInstance(Components.interfaces.nsIClipboard);if(!D){return false}var L=Components.classes["@mozilla.org/widget/transferable;1"].createInstance(Components.interfaces.nsITransferable);if(!L){return false}L.addDataFlavor("text/unicode");var K=new Object();var I=new Object();var K=Components.classes["@mozilla.org/supports-string;1"].createInstance(Components.interfaces.nsISupportsString);var B=G;K.data=B;L.setTransferData("text/unicode",K,B.length*2);var A=Components.interfaces.nsIClipboard;if(!D){return false}D.setData(L,null,A.kGlobalClipboard);return true}else{try{var H="flashcopier";if(!document.getElementById(H)){var C=document.createElement("div");C.id=H;document.body.appendChild(C)}document.getElementById(H).innerHTML="";var F="<embed src=\"/html/inc/_clipboard.swf\" FlashVars=\"clipboard="+encodeURIComponent(G)+"\" width=\"0\" height=\"0\" type=\"application/x-shockwave-flash\"></embed>";document.getElementById(H).innerHTML=F;return true}catch(E){alert("抱歉,未实现针对该浏览器的复制操作！");return false}}}}return false}},component:{textCounter:function(D,B,C){if(!C){C=1000}if(!D){return }if(!B){return }try{if(D.value.length>C){D.value=D.value.substring(0,C)}var A="剩余"+(C-D.value.length)+"字";changeHtml(B,A)}catch(E){}},showPickerDateTime:function(B){var A={dateFmt:DATE_FORMATE_YMD_HMS};if(B){if(!ky.util.isEmpty(B)){A.el=B}}this.showPicker(A)},showPickerDate:function(B){var A={dateFmt:DATE_FORMATE_YMD};if(B){if(!ky.util.isEmpty(B)){A.el=B}}this.showPicker(A)},showPicker:function(B){var A={isShowWeek:true,highLineWeekDay:true};A=jQuery.extend({},A,B);WdatePicker(A)},selectAllCheckBox:function(A,B){changeInputElementAttrByName("checked",A,B);return false},checkBox3state:function(A,B){$("input[name='"+A+"']").each(function(){switch(B){case"all":$(this).attr("checked",true);break;case"none":$(this).attr("checked",false);break;case"toggle":$(this).attr("checked",!this.checked);break}})},regSelectAllCheckBoxAction:function(B,A){$("#"+B).click(function(){var C=$(this).attr("checked");ky.component.selectAllCheckBox(A,C)})},regCheckBox:function(B,A,C){$("#"+B).click(function(){ky.component.checkBox3state(A,C)})},clearSelect:function(B){if(B){for(var A=B.length-1;A>=0;A--){B.remove(A)}}else{logTrace();log(new Error(100,"错误:参数select1为空!程序返回不进行操作!"))}},addDatas:function(E,A,B,D){if(A==null||B==null||D==null||E==null){log(new Error("错误:参数不允许为空!程序返回不进行操作!"));return }var G=A.length;for(var C=0;C<G;C++){var F=A[C];var H=new Option(F[B],F[D]);E.options[E.options.length]=H}}},string:{occurs:function(B,A){return B.split(A).length-1},isDigit:function(B){var A=B.Trim();return(A.replace(/\d/g,"").length==0)},isAlpha:function(A){return(A.replace(/\w/g,"").length==0)},lenb:function(A){return A.replace(/[^\x00-\xff]/g,"**").length},isInChinese:function(A){return(A.length!=A.replace(/[^\x00-\xff]/g,"**").length)},replaceAll:function(C,B,A){return C.replace(new RegExp(B,"gm"),A)},isInList:function(text,list){var re=eval("/["+list+"]/");return re.test(text)}},util:{isEmpty:function(B,A){return B===null||B===undefined||(!A?B==="":false)},sNull:function(A){return this.isEmpty(A)?"":A},replaceToAdmin:function(B){var A=ky.util.sNull(B);A=ky.string.replaceAll(A,"戴华","<font color='red'>戴华</font>");A=ky.string.replaceAll(A,"刘克亚","<font color='red'>刘克亚</font>");return A},mappingRenderer:function(A,B){return function(C){if(A==null){return ky.util.sNull(B)}else{return A[C]||(B===undefined||B===null?C:B)}}},getNextId:function(){SYS_RANDOM_NEXT_ID++;return SYS_RANDOM_NEXT_ID},isMoney:function(C){if(""==C){return false}var A;if(C==""){return true}var B=/^[\-\+]?([0-9]\d*|0|[1-9]\d{0,2}(,\d{3})*)(\.\d+)?$/;return B.test(C)},isNumber:function(B){if(""==B){return false}var A=/\D/;return B.match(A)==null},trim:function(A){return $.trim(A)},notEmail:function(A){if(A.search(/^\w+((-\w+)|(\.\w+))*\@[A-Za-z0-9]+((\.|-)[A-Za-z0-9]+)*\.[A-Za-z0-9]+$/)!=-1){return false}else{return true}},isTelephone:function(C){var A="()-;1234567890";if(""==C){return false}for(var B=0;B<C.length;B++){var D=C.charAt(B);if(A.indexOf(D)==-1){return false}}return true},notChinese:function(B){var A=/[^A-Za-z0-9_]/g;if(A.test(B)){return(false)}else{return(true)}},isChinese:function(C){var A="ABCDEFGHIJKLMNOPQRSTUVWXYZ";A+="abcdefghijklmnopqrstuvwxyz";A+="0123456789";A+=".@-_";if(""==C){return false}for(var B=0;B<C.length;B++){var D=C.charAt(B);if(A.indexOf(D)>-1){return false}}return true},checkRate:function(A){var B=/^[0-9]+.?[0-9]*$/;if(!B.test(A.rate.value)){alert("请输入数字(例:0.02)");A.rate.focus();return false}},isNumber_Ex:function(B,A){if(""==B){return false}if(B.length!=A){return false}if(!isNumber(B)){return false}return true},isLetter:function(B){if(""==B){return false}for(var A=0;A<B.length;A++){var C=B.charAt(A);if((C<"a"||C>"z")&&(C<"A"||C>"Z")){return false}}return true},notInSpace:function(C){if(""==C){return false}var A=" ";A+="　";for(var B=0;B<C.length;B++){var D=C.charAt(B);if(A.indexOf(D)>-1){return false}}return true},isFPH:function(B){if(""==B){return false}for(var A=0;A<B.length;A++){var C=B.charAt(A);if((C<"0"||C>"9")&&(C!="-")&&(C!=",")){return false}}return true},isXZ:function(C){if(""==C){return false}var A=/^[1-6](\.5)?$/;var B=C.match(A);if(null!=B){return true}else{if(C=="7"){return true}else{return false}}},isSFZ:function(D){if(""==D){return false}if(D.length!=15&&D.length!=18){return false}if(D.length==15){if(!isNumber(D)){return false}}else{var B=D.substring(0,17);var A=D.substring(17,18);var C="X0123456789";if(!isNumber(B)||C.indexOf(A)==-1){return false}}return true},clearMsgArea:function(B){var A=document.getElementById(B);if(A!=undefined&&A!=null){A.innerHTML=""}},judgeDigit:function(){var B=arguments[0];if(arguments.length==1){return isDigit(B)}else{if(arguments.length==3){var A=/^-?[0-9]{1,10}$/;if(A.test(B)){var F=arguments[1];var E=parseInt(B);if(isDigit(arguments[2])){var C=parseInt(arguments[2]);if(F==">"||F=="<"){if(F==">"){return E>C}else{if(F=="<"){return E<C}}}else{if(isDigit(F)){var D=parseInt(F);return(E>=D)&&(E<=C)}else{alert("arguments error,the 2nd argument is not a number and not an operation:greater|less|equals.")}}}else{alert("arguments error,the 3rd argument is not a number.")}}}}return false},isDigit:function(B){var A=/^-?[0-9]{1,10}$/;return A.test(B)},isSignName:function(){var s=arguments[0];if(arguments.length==1){var patrn=/^[a-zA-Z]{1}([a-zA-Z0-9]|[._]){1,31}$/;return patrn.test(s)}else{if(arguments.length==3){if(isDigit(arguments[1])&&isDigit(arguments[2])){eval("var patrn=/^[a-zA-Z]{1}([a-zA-Z0-9]|[._]){"+(parseInt(arguments[1])-1)+","+(parseInt(arguments[2])-1)+"}$/;");return eval("patrn.test(s);")}else{alert("Error:the 2nd argument and the 3rd argument must be number.");return false}}else{alert("method invoke error.error arguments number.");return false}}},isRealName:function(B){var A=/^([a-zA-Z0-9]|[._ ]){2,64}$/;var C=/^([^\x00-\xff]|[\s]){2,32}$/;return A.test(B)||C.test(B)},isTel:function(B){var A=/^[+]{0,1}(\d){1,3}[ ]?([-]?((\d)|[ ]){1,12})+$/;return A.test(B)},isMobileCN:function(B){var A=/^1[3|5|8]{1}[0-9]{1}[-| ]?\d{8}$/;return A.test(B)},isPostalCodeCN:function(B){var A=/^[1-9]\d{5}$/;return A.test(B)},isEmail:function(A){if(ky.util.isEmpty(A)){return false}if(A.search(/^\w+((-\w+)|(\.\w+))*\@[A-Za-z0-9]+((\.|-)[A-Za-z0-9]+)*\.[A-Za-z0-9]+$/)!=-1){return true}else{return false}},isURL:function(B){var A=/^http:\/\/([\w-]+(\.[\w-]+)+(\/[\w-   .\/\?%&=\u4e00-\u9fa5]*)?)?$/;return A.test(B)},isIP:function(B){var A=/^((1?\d?\d|(2([0-4]\d|5[0-5])))\.){3}(1?\d?\d|(2([0-4]\d|5[0-5])))$/;return A.test(B)},isHtmlTag:function(B){var A=/^<(.*)>.*<\/\1>|<(.*) \/>$/;return A.test(B)},isIDNumber15:function(B){var A=/^[\d]{6}((\d{2}((0[13578]|1[02])(0[1-9]|[12]\d|3[01])|(0[13456789]|1[012])(0[1-9]|[12]\d|30)|02(0[1-9]|1\d|2[0-8])))|([02468][048]|[13579][26])0229)[\d]{3}$/;return A.test(B)},isIDNumber18:function(B){var A=/^[\d]{6}[0-9]{4}(((0[13578]|(10|12))(0[1-9]|[1-2][0-9]|3[0-1]))|(02(0[1-9]|[1-2][0-9]))|((0[469]|11)(0[1-9]|[1-2][0-9]|30)))[\d]{3}[\d|x|X]$/;return A.test(B)},isChineseString:function(B){var A=/^[\u4e00-\u9fa5]+$/;return A.test(B)},isDoubleByteString:function(B){var A=/^[^x00-xff]+$/;return A.test(B)},hasHESpace:function(B){var A=/^\s+|\s+$/;return A.test(B)},isQQ:function(B){var A=/^[1-9]{1}\d{4,9}$/;return A.test(B)},printObject:function(B){try{if(B){var F=false;for(var D in B){var C=B[D];for(var A in C){log(D+","+D+" ----- "+ky.json.json(C[A]))}F=true}if(F){for(var A in B){log(A+" ----- "+B[A])}}}else{log("printObject object==null")}}catch(E){log(E)}}},json:{toQueryString:function(E){if(!E||ky.json.type(E,"string","number")){return E}var F=[];for(var I in E){var J=E[I];if(J!==undefined){J=[].concat(J)}for(var H=0;H<J.length;H++){var G=J[H];if(ky.json.type(G,"object")){G=json(G)}F.push(encodeURIComponent(I)+"="+encodeURIComponent(G))}}return F.join("&")},toJSONString:function(B,A){return ky.json.encode(B,"__gt_",A)},decode:function(string,secure){if(!ky.json.type(string,"string")||!string.length){return null}if(secure&&!/^[,:{}\[\]0-9.\-+Eaeflnr-u \n\r\t]*$/.test(string.replace(/\\./g,"@").replace(/"[^"\\\n\r]*"/g,""))){return null}return eval("("+string+")")},encode:function(D,F,H){var E,G=H?"\n":"";switch(ky.json.type(D)){case"string":return"\""+D.replace(/[\x00-\x1f\\"]/g,json__m)+"\"";case"array":E=[];ky.json.each(D,function(I,B){var J=ky.json.encode(I,F,H);if(J||J===0){E.push(J)}});return"["+G+(H?E.join(","+G):E)+"]"+G;case"object":if(D===null){return"null"}E=[];ky.json.each(D,function(J,I){if(!F||I.indexOf(F)!=0){var B=ky.json.encode(J,F,H);if(B){E.push(ky.json.encode(I,F,H)+":"+B)}}},null,F);return"{"+G+(H?E.join(","+G):E)+G+"}"+G;case"number":case"boolean":return String(D);default:}return null},type:function(E){var C=arguments.length;if(C>1){for(var F=1;F<C;F++){if(ky.json.type(E)==arguments[F]){return true}}return false}var D=typeof E;if(E===null){return"object"}if(D=="undefined"){return"undefined"}if(E.htmlElement){return"element"}if(D=="object"&&E.nodeType&&E.nodeName){switch(E.nodeType){case 1:return"element";case 3:return/\S/.test(E.nodeValue)?"textnode":"whitespace";default:}}if(isArray(E)){return"array"}if(D=="object"&&typeof E.length=="number"){return E.callee?"arguments":"collection"}else{if(D=="function"&&typeof E.length=="number"&&E[0]!==undefined){return"collection"}}return D},each:function(M,J,L,K){var G=[];if(ky.json.type(M,"array","arguments","collection")||M&&!ky.json.type(M,"string")&&ky.json.type(M.length,"number")){for(var I=0,N=M.length;I<N;I++){G.push(J.call(L||M,M[I],I,M,K))}}else{for(var H in M){G.push(J.call(L||M,M[H],H,M,K))}}return G},rB0:function(A){return json__m[A]||"\\u00"+Math.floor(A.charCodeAt()/16).toString(16)+(A.charCodeAt()%16).toString(16)},isArray:function(A){return Object.prototype.toString.apply(A)==="[object Array]"},json:function(B,A){return ky.json.encode(B,"__gt_",A)}}};function MM_swapImgRestore(){var C,A,B=document.MM_sr;for(C=0;B&&C<B.length&&(A=B[C])&&A.oSrc;C++){A.src=A.oSrc}}function MM_preloadImages(){var D=document;if(D.images){if(!D.MM_p){D.MM_p=new Array()}var C,B=D.MM_p.length,A=MM_preloadImages.arguments;for(C=0;C<A.length;C++){if(A[C].indexOf("#")!=0){D.MM_p[B]=new Image;D.MM_p[B++].src=A[C]}}}}function MM_findObj(E,D){var C,B,A;if(!D){D=document}if((C=E.indexOf("?"))>0&&parent.frames.length){D=parent.frames[E.substring(C+1)].document;E=E.substring(0,C)}if(!(A=D[E])&&D.all){A=D.all[E]}for(B=0;!A&&B<D.forms.length;B++){A=D.forms[B][E]}for(B=0;!A&&D.layers&&B<D.layers.length;B++){A=MM_findObj(E,D.layers[B].document)}if(!A&&D.getElementById){A=D.getElementById(E)}return A}function MM_swapImage(){var D,C=0,A,B=MM_swapImage.arguments;document.MM_sr=new Array;for(D=0;D<(B.length-2);D+=3){if((A=MM_findObj(B[D]))!=null){document.MM_sr[C++]=A;if(!A.oSrc){A.oSrc=A.src}A.src=B[D+2]}}}function changeCheckCode(A,D,B){if(A==null){return }if(B==null){B="110"}try{A.src=D+"/authority/radomImageDisplay.do?imageId="+B+"&rm="+Math.random()}catch(C){}}function changeCheckCodeById(C,E,B){if(C==null){return }if(B==null){B="110"}try{var A=E+"/authority/radomImageDisplay.do?imageId="+B+"&rm="+Math.random();getS(C).attr("src",A)}catch(D){}}function isEmpty(B,A){return ky.util.isEmpty(B,A)}function json(B,A){return ky.json.json(B,A)}function isdebug(){return false}function debug(){if(window.console&&window.console.log&&arguments){var C=false;if(arguments.length>=1){if(arguments[0]){var B=arguments[0].constructor;if(B==TypeError){C=true}}}var A=Array.prototype.join.call(arguments,"");var D=($.browser.msie||$.browser.safari)?"":(arguments.callee.caller)?arguments.callee.caller:"";var E=(C==true)?"ERROR:------------------------=":"";window.console.log("%s: %o",E+A,D)}}function log(){if(window.console&&window.console.log&&arguments){var F="";var C=false;if(arguments.length>=1){if(arguments[0]){var B=arguments[0].constructor;if(B==TypeError||(typeof arguments[0]=="object")){C=true;if(C===true){var D=arguments[0];if(!isNaN(D.description)){F+="\nError description : "+D.description}if(!isNaN(D.number)){F+="\nError number : "+D.number}F+="\nerr.name : "+D.name;F+="\nerr.message : "+D.message;F+="\n\nClick OK to continue.\n"}}}}var A=Array.prototype.join.call(arguments,"");var E=arguments.callee.caller;if(true){E=($.browser.msie||$.browser.safari)?"":(arguments.callee.caller)?arguments.callee.caller:""}var G=(C==true)?F:"";window.console.log("%s: %o",G+A,E)}}function logDir(A){console.dir(A)}function logTrace(){console.trace()}function logDirXml(A){if(typeof A=="string"){console.dirxml(document.getElementById(A))}else{console.dirxml(A)}}function openWindow(D,B,G,F){var C=ky.util.isEmpty(F)?"tmpwindow":F;var A="width="+B+", height="+G+", location=no, menubar=no, status=no, toolbar=no, scrollbars=yes, resizable=yes";var E=window.open(D,C,A);E.focus();return E}var __cacheElementId="__div_cache_";function _initCache(B){if(!B){B=__cacheElementId}if(!exist(B)){if(isdebug()){log("创建了缓存对象:"+B)}var A="<div id='"+B+"' style='display:none'></div>";$(document.body).append(A)}}function isEmpty(A){return ky.util.isEmpty(A)}function cacheGet(B,A){if(isEmpty(B)){return""}if(!A){A=__cacheElementId}var C=getS(A);return C.data(B)}function cachePut(B,D,A){if(!A){A=__cacheElementId}var C=getS(A);C.data(B,D)}function randomInt(B,A){return Math.ceil(Math.random()*(A-B)+B)}function verify_Uegal(){return 1}function exist(A){if(A){var B=typeof (A);if(B){if(isString(A)){return $("#"+A)[0]}else{return true}}}return false}function existVariable(A){}function selectedTab(C,A){if(!A){return }if(!C){return }var B=$("#"+A);if(exist(B.tabs)){____changeTabEnabledDisables(C,B);____changeTabEnabledDisables(C,B);B.tabs("option","selected",C)}}function ____changeTabEnabledDisables(D,B){var C=B.tabs("length");for(var A=0;A<C;A++){if(A!=D){B.tabs("disable",A)}}B.tabs("enable",D);B.tabs("select",D)}function createStudioHtml(D,B){if(!D){return""}var C="";if((typeof B)=="string"&&(!ky.util.isEmpty(B))){}else{B="studio_target_"+randomInt(1000,1000000);C="<div id='"+B+"'></div>\n"}var A=["<!--演播厅代码开始-->\n","<br/><br/>\n",C,"<script type=\"text/javascript\">\n","$(document).ready(function() {\n","\ttry {\n","\t\t$('#"+B+"').kyStudioPlugin({\n","\t\t\t\twaterMark : (typeof ucode) == 'string' ? ucode : '',\n","\t\t\t\tpcode : '"+D+"',\n","\t\t\t\twidth : 540,\n","\t\t\t\tshowByLayer : false,\n","\t\t\t\tuserId :(typeof userId) != 'undefined' ? userId : ''\n","\t\t\t});\n","\t} catch (err) {log('11出现error了:' + err);}\n","});\n","</script>\n","<!--演播厅代码结束-->\n"];return A.join("")}function bind_focus_mouseover(B,A){getS(B).bind("mouseover",function(){$(this).focus()}).bind("focus",function(){var C=$(this);C.select();C.css({"color":"#000"})}).bind("click",function(){var C=$(this);if(C.val()==A){C.val("")}})}function findComponentObject(B){var A;if(typeof B==="string"){A=getS(B)}else{A=B}return A}function _append(A,B){return A+" "+B+"\t"}jQuery.cookie=function(B,I,L){if(typeof I!="undefined"){L=L||{};if(I===null){I="";L.expires=-1}var E="";if(L.expires&&(typeof L.expires=="number"||L.expires.toUTCString)){var F;if(typeof L.expires=="number"){F=new Date();F.setTime(F.getTime()+(L.expires*24*60*60*1000))}else{F=L.expires}E="; expires="+F.toUTCString()}var K=L.path?"; path="+L.path:"";var G=L.domain?"; domain="+L.domain:"";var A=L.secure?"; secure":"";document.cookie=[B,"=",encodeURIComponent(I),E,K,G,A].join("")}else{var D=null;if(document.cookie&&document.cookie!=""){var J=document.cookie.split(";");for(var H=0;H<J.length;H++){var C=jQuery.trim(J[H]);if(C.substring(0,B.length+1)==(B+"=")){D=decodeURIComponent(C.substring(B.length+1));break}}}return D}}